var ngCurrencyFormatter=angular.module("ngCurrencyFormatter",[]);ngCurrencyFormatter.filter("ngCurrencyFormatterComma",function(){function n(n,t,i,r){var e=isFinite(+n)?+n:0,f=isFinite(+t)?Math.abs(t):0,o=typeof r=="undefined"?",":r,s=typeof i=="undefined"?".":i,u="",h=function(n,t){var i=Math.pow(10,t);return""+Math.round(n*i)/i};return u=(f?h(e,f):""+Math.round(e)).split("."),u[0].length>3&&(u[0]=u[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,o)),(u[1]||"").length<f&&(u[1]=u[1]||"",u[1]+=new Array(f-u[1].length+1).join("0")),u.join(s)}return function(t,i){return n(t,i)}});ngCurrencyFormatter.filter("ngCurrencyFormatterUnComma",function(){return function(n){return n.replace(/,/g,"")}});ngCurrencyFormatter.directive("ngCurrencyInput",["$filter","$compile",function(){return{restrict:"E",scope:{currency:"=",ngModel:"=",decimals:"=",currencyright:"=",readOnly:"=",ngChange:"="},replace:!0,template:'<div class="input-group"><span class="input-group-addon" ng-show="currency&&!currencyright" ng-bind="currency"><\/span><input class="form-control" ng-change="ngChange" ng-currency-input-formatter decimals="decimals" ng-readonly="readOnly"  ng-model="ngModel" type="tel"><span ng-show="!decimals||currencyright" class="input-group-addon"><span ng-show="!decimals">.00<\/span> <span ng-show="currencyright"  ng-bind="currency"><\/span><\/span><\/div>  ',link:function(){}}}]);ngCurrencyFormatter.directive("ngCurrencyInputFormatter",["$filter","$compile",function(n){return{restrict:"A",scope:{decimals:"=",ngModel:"="},link:function(t,i,r){i.on("blur",function(){var u,f,e;r.type="text";u=0;t.decimals&&(u=2);t.$apply(function(){t.ngModel=parseFloat(t.ngModel)});f=n("ngCurrencyFormatterComma");e=f(i.val(),u);i.val(e)});i.on("focus",function(){var t=n("ngCurrencyFormatterUnComma"),r=t(i.val());i.val(r)});i.on("keypress",function(n){var t=n.which;(t<=47||t>=58)&&n.preventDefault()})}}}]);ngCurrencyFormatter.directive("ngCurrencyInputFormatter",["$filter","$compile",function(){return{restrict:"E",scope:{currency:"=",ngModel:"=",decimals:"=",currencyright:"=",perday:"=",permonth:"=",peryear:"=",frequency:"="},replace:!0,template:'<div class="input-group"><div class="input-group-addon"><select ng-options="frequency.name for frequency in frequencies" ng-change="updateValue()" ng-model="frequency"><option value="">Select<\/option><\/select><span ng-bind="currency"><\/span><\/div><input ng-currency-input-formatter decimals="decimals" ng-blur="updateValue()" ng-model="ngModel" type="tel" class="form-control"><span ng-show="!decimals||currencyright" class="input-group-addon"><span ng-show="!decimals">.00<\/span><span ng-show="currencyright" ng-bind="currency"><\/span><\/span><\/div>',link:function(n){var t=[],i;for(t.push({name:"daily",days:1}),t.push({name:"weekly",days:7.01}),t.push({name:"monthly",days:30.41}),t.push({name:"annually",days:365}),n.frequencies=t,i=0;i<length;i++);n.updateValue=function(){if(n.frequency){var t=n.ngModel/n.frequency.days;n.perday>=0&&(n.perday=t);n.permonth>=0&&(n.permonth=t*30.41);n.peryear>=0&&(n.peryear=t*365)}console.log("pd",n.perday);console.log("pm",n.permonth);console.log("py",n.peryear)}}}}]);ngCurrencyFormatter.directive("ngLoanCalculator",["$filter",function(){return{restrict:"E",scope:{currency:"=",decimals:"=",currencyright:"=",loanAmount:"=",loanTerm:"=",interestRate:"=",PaymentPerMonth:"="},templateUrl:"../src/input/loanCalculator/inputLoanCalculator.tpl.html",replace:!0,link:function(n){function t(){var t=0;n.decimals==!0&&(t=2);n.periodicRate=n.interestRate/1200;n.monthlyPayment=(n.loanAmount*(n.periodicRate/(1-Math.pow(1+n.periodicRate,-n.loanTerm)))).toFixed(t);n.totalLoan=(n.monthlyPayment*n.loanTerm).toFixed(t)}t();n.calculateRepayments=function(){t();console.log("calulationPayments")}}}}]);
/*
//# sourceMappingURL=ngcurrencyformatter.min.js.map
*/